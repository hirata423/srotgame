<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="stylesheet.css">
    <title>スロット</title>
</head> 
<body>
    <div id="main">
        <div id ="title">Slot-Game</div>
        <div id="srot">
            <div id ="set">
                <div><img src="images/white.jpg" id="left-area"></div>
                <button id="leftBtn" onclick="stopbtnLeft()"></button>
            </div>  
            <div id="set">
                <div><img src="images/white.jpg" id="center-area"></div>
                <button id="centerBtn" onclick="stopbtnCenter()"></button>
            </div>   
            <div id="set">
                <div><img src="images/white.jpg" id="right-area"></div>
                <button id="rightBtn" onclick="stopbtnRight()"></button>
            </div>
        </div>
        <div id ="all">
            <button id="reBtn" onclick="restart()">スタート</button>
        </div>
    </div>
    <script>


        
        let stopLeft
        let stopCenter
        let stopRight


        //押すことができれば、true、押すことができなければ、false
        let clickLeft = false
        let clickCenter = false
        let clickRight = false

        //止まっていない状態,false 止まっている状態,true
        let isStart = true


        //スタートボタンの処理ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
        const restart = function (){
            if(isStart){
                document.getElementById("reBtn").innerHTML="リセット";

                clickLeft = true
                clickCenter = true
                clickRight = true

                document.getElementById("leftBtn").style.backgroundColor = "red";
                document.getElementById("centerBtn").style.backgroundColor = "red";
                document.getElementById("rightBtn").style.backgroundColor = "red";

                stopLeft = setInterval(srotLeft,200);
                stopCenter = setInterval(srotCenter,175);            
                stopRight = setInterval(srotRight,150);

                isStart = false

            }else if(
                !clickLeft &&
                !clickCenter&& 
                !clickRight  
            ){document.getElementById("reBtn").innerHTML="スタート";
                clickLeft = true
                clickCenter = true
                clickRight = true
                isStart = true
            }
        };
        //ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー


        //左スロットの処理ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
        const srotLeft = () =>{
            const text = ['images/apple.jpg','images/bell.jpg','images/budoo.jpg',
                          'images/piero.jpg','images/seven.jpg','images/suika.jpg','images/money.jpg'];
            const rnd =Math.floor(Math.random() * text.length);  
            const area = document.getElementById("left-area");
            area.src = text[rnd];
        };
            
        const stopbtnLeft = function(){
            if (clickLeft){
                clearInterval(stopLeft);
                //クリックすると赤色から青色に変わる
                const leftBtn = document.getElementById("leftBtn");
                leftBtn.style.backgroundColor = "blue";   
                clickLeft = false             
            }
        };
        //ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

        //真ん中スロットの処理ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
        const srotCenter = () =>{
            const text = ['images/apple.jpg','images/bell.jpg','images/budoo.jpg',
                          'images/piero.jpg','images/seven.jpg','images/suika.jpg','images/money.jpg'];
            const rnd =Math.floor(Math.random() * text.length);           
            const area = document.getElementById("center-area");
            area.src = text[rnd]; 

        };

        const stopbtnCenter = function(){
            if (clickCenter){
                clearInterval(stopCenter);
                //クリックすると赤色から青色に変わる
                const centerBtn = document.getElementById("centerBtn");
                centerBtn.style.backgroundColor = "blue";     
                clickCenter = false             
            }
        };
        //ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

        //右スロットの処理ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
        const srotRight = () =>{
            const text = ['images/apple.jpg','images/bell.jpg','images/budoo.jpg',
                          'images/piero.jpg','images/seven.jpg','images/suika.jpg','images/money.jpg'];
            const rnd =Math.floor(Math.random() * text.length);           
            const area = document.getElementById("right-area");
            area.src = text[rnd]; 

        };
        const stopbtnRight = function(){
            if (clickRight){
                clearInterval(stopRight);
                //クリックすると赤色から青色に変わる
                const rightBtn = document.getElementById("rightBtn");
                rightBtn.style.backgroundColor = "blue";  
                clickRight = false                
            }
        };
        //ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー


    </script>
</body>
</html>